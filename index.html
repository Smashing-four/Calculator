<!DOCTYPE html>
<html lang="sk">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title id="pageTitle">Kalkulačka kariet Smashing Four</title>
  <link href="https://fonts.googleapis.com/css2?family=Russo+One&display=swap" rel="stylesheet">
  
  <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-VK08XC5LCN"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-VK08XC5LCN');
</script>
  <style>
    body {
      font-family: 'Russo One', sans-serif;
      background: linear-gradient(135deg, #0A1931 0%, #1A2E4B 50%, #0A1931 100%);
      color: #FFD700;
      max-width: 400px;
      margin: 30px auto;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 0 25px rgba(0, 150, 255, 0.4);
      border: 1px solid rgba(0, 150, 255, 0.3);
      position: relative; /* Pre umiestnenie vlajok */
    }

    h1 {
      text-align: center;
      margin-bottom: 25px;
      color: #7FFFD4;
      text-shadow: 2px 2px #000;
    }

    label {
      display: block;
      margin-top: 15px;
      color: #ADD8E6;
    }

    select, input[type="number"] {
      width: 100%;
      padding: 10px;
      margin-top: 6px;
      background-color: #0A1931;
      border: 1px solid #00BFFF;
      color: #fff;
      font-size: 16px;
      border-radius: 6px;
      box-sizing: border-box;
      box-shadow: inset 0 0 5px rgba(0, 191, 255, 0.3);
    }

    button {
      margin-top: 25px;
      width: 100%;
      background: linear-gradient(180deg, #FFD700 0%, #FFA500 100%);
      color: #36454F;
      font-weight: bold;
      border: 2px solid #DAA520;
      padding: 14px;
      font-size: 18px;
      border-radius: 8px;
      cursor: pointer;
      transition: transform 0.2s ease, box-shadow 0.2s ease, background 0.2s ease;
      box-shadow: 0 5px 15px rgba(255, 215, 0, 0.4), inset 0 2px 5px rgba(255, 255, 255, 0.3);
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    button:hover {
      transform: translateY(-2px);
      box-shadow: 0 7px 20px rgba(255, 215, 0, 0.6), inset 0 2px 5px rgba(255, 255, 255, 0.5);
      background: linear-gradient(180deg, #FFA500 0%, #FFD700 100%);
    }

    #output {
      margin-top: 30px;
      padding: 15px;
      background: #0A1931;
      border: 1px solid #00BFFF;
      border-radius: 8px;
      font-size: 14px; /* Default font size, adjusted by JS */
      min-height: 80px;
      color: #E0FFFF;
      box-shadow: inset 0 0 5px rgba(0, 191, 255, 0.3);
      white-space: normal; /* Umožňuje zalomenie riadkov */
      line-height: 1.4; /* Zlepšuje čitateľnosť, ak je viac riadkov */
    }

    .error {
      color: #FF6B6B;
      display: block;
      margin-bottom: 10px;
      white-space: normal; /* Error správy vždy môžu mať zalomenie riadkov */
    }

    .logo-container {
      text-align: center;
      margin-bottom: 20px;
    }

    .logo-container img {
      max-width: 80%;
      height: auto;
      display: block;
      margin: 0 auto;
    }

    /* Spoločné štýly pre oba prepínače jazykov */
    .language-switcher {
      position: absolute;
      top: 15px;
      display: block;
      z-index: 100;
    }
    
    #language-switcher-left {
      left: 15px;
    }
    
    #language-switcher-right {
      right: 15px;
    }

    .language-switcher img {
      width: 30px; 
      height: 20px;
      cursor: pointer;
      border: 1px solid rgba(255, 255, 255, 0.3);
      border-radius: 3px;
      box-shadow: 0 0 5px rgba(0, 150, 255, 0.2);
      transition: transform 0.2s ease, box-shadow 0.2s ease;
      margin-bottom: 8px;
      display: block;
    }

    .language-switcher img:last-child {
        margin-bottom: 0;
    }

    .language-switcher img:hover {
      transform: scale(1.1);
      box-shadow: 0 0 10px rgba(0, 150, 255, 0.5);
    }

    footer {
      text-align: center;
      margin-top: 40px;
      font-size: 10px; /* Menšie písmo */
      color: #7FFFD4;
    }
  </style>
</head>
<body>

<div id="language-switcher-left" class="language-switcher">
  <img src="sk_flag.png" alt="Slovak Flag" onclick="setLanguage('sk')">
  <img src="cz_flag.png" alt="Czech Flag" onclick="setLanguage('cs')">
  <img src="pl_flag.png" alt="Polish Flag" onclick="setLanguage('pl')">
  <img src="de_flag.png" alt="German Flag" onclick="setLanguage('de')">
  <img src="nl_flag.png" alt="Dutch Flag" onclick="setLanguage('nl')">
</div>

<div id="language-switcher-right" class="language-switcher">
  <img src="us_flag.png" alt="USA Flag" onclick="setLanguage('en')">
  <img src="es_flag.png" alt="Spanish Flag" onclick="setLanguage('es')">
  <img src="pt_flag.png" alt="Portuguese Flag" onclick="setLanguage('pt')">
  <img src="ru_flag.png" alt="Russian Flag" onclick="setLanguage('ru')">
  <img src="cn_flag.png" alt="Chinese Flag" onclick="setLanguage('zh')">
</div>


<div class="logo-container">
  <img src="smashing_four_logo1.jpg" alt="Smashing Four Logo">
</div>

<h1 id="calculatorTitle">Kalkulačka kariet</h1>

<label for="heroType" id="heroTypeLabel">Typ hrdiny:</label>
<select id="heroType">
  <option value="common" id="commonOption">Bežný</option>
  <option value="rare" id="rareOption">Vzácny</option>
  <option value="epic" id="epicOption">Epický</option>
</select>

<label for="currentLevel" id="currentLevelLabel">Úroveň hrdiny:</label>
<input type="number" id="currentLevel" placeholder="Zadaj úroveň hrdinu" />

<label for="cards" id="cardsLabel">Počet kariet:</label>
<input type="number" id="cards" min="0" max="80707" placeholder="Zadaj počet kariet" />

<button onclick="calculate()" id="calculateButton">Vypočítať</button>

<div id="output"></div>

<footer>
    © 2025 mIReC | svk&cze klan
</footer>

<script>
const levelData = [
  {common: 2, rare: 'Unlock', epic: 'Unlock', gold: 10}, {common: 5, rare: 'Unlock', epic: 'Unlock', gold: 25}, {common: 10, rare: 2, epic: 'Unlock', gold: 50}, {common: 20, rare: 5, epic: 'Unlock', gold: 150}, {common: 45, rare: 10, epic: 2, gold: 450}, {common: 75, rare: 20, epic: 5, gold: 750}, {common: 150, rare: 45, epic: 10, gold: 1500}, {common: 300, rare: 75, epic: 20, gold: 3000}, {common: 500, rare: 125, epic: 30, gold: 5000}, {common: 725, rare: 190, epic: 45, gold: 9700}, {common: 975, rare: 300, epic: 70, gold: 14200}, {common: 1250, rare: 450, epic: 105, gold: 20800}, {common: 1550, rare: 630, epic: 155, gold: 27100}, {common: 1900, rare: 825, epic: 220, gold: 36500}, {common: 2300, rare: 1050, epic: 300, gold: 45300}, {common: 2800, rare: 1300, epic: 390, gold: 54600}, {common: 3500, rare: 1575, epic: 490, gold: 70000}, {common: 4400, rare: 1875, epic: 600, gold: 90000}, {common: 5400, rare: 2250, epic: 720, gold: 108000}, {common: 6800, rare: 2700, epic: 900, gold: 136000}, {common: 8500, rare: 3225, epic: 1125, gold: 170000}, {common: 10500, rare: 3800, epic: 1375, gold: 210000}, {common: 13000, rare: 4600, epic: 1675, gold: 260000}, {common: 16000, rare: 6000, epic: 2000, gold: 320000}, {common: 'Full', rare: 'Full', epic: 'Full', gold: 'Full'}
];

// Objekt s prekladmi
const translations = {
    'sk': { pageTitle: 'Kalkulačka kariet Smashing Four', calculatorTitle: 'Kalkulačka kariet', heroTypeLabel: 'Typ hrdiny:', commonOption: 'Bežný', rareOption: 'Vzácny', epicOption: 'Epický', currentLevelLabel: 'Úroveň hrdiny:', currentLevelPlaceholder: 'Zadaj úroveň hrdinu', cardsLabel: 'Počet kariet:', cardsPlaceholder: 'Zadaj počet kariet', calculateButton: 'Vypočítať', outputMaxLevelReached: 'Tvoj hrdina je na maximálnej úrovni!', outputMaxLevel: 'Maximálna možná úroveň:', outputRemainingCards: 'Zostávajúce karty:', outputCardsToNextLvl: 'Chýbajúce karty do ďalšej úrovni:', outputCardsToLvl25: 'Chýbajúce karty na úroveň 25:', outputGoldToLevel: 'Potrebné zlato na úroveň', outputGoldToMax: 'Potrebné zlato na úroveň 25:', errorInvalidLevel: 'Zadaj platnú úroveň hrdiny!', errorCommonLevelRange: 'Úroveň bežných hrdinov musí byť medzi 1 a 25!', errorRareLevelStart: 'Úroveň vzácnych hrdinov začína od 3. úrovne!', errorEpicLevelStart: 'Úroveň epických hrdinov začína od 5. úrovne!', errorInvalidCards: 'Zadaj platný počet kariet!', errorMaxCards: 'Počet kariet nesmie presiahnuť {maxCards}!', errorCardsExceedMaxPossible: 'Maximálny počet kariet je {maxCards}.', outputMaxLevelAchievedText: '0' },
    'en': { pageTitle: 'Smashing Four Card Calculator', calculatorTitle: 'Card Calculator', heroTypeLabel: 'Hero Type:', commonOption: 'Common', rareOption: 'Rare', epicOption: 'Epic', currentLevelLabel: 'Hero Level:', currentLevelPlaceholder: 'Enter hero level', cardsLabel: 'Number of Cards:', cardsPlaceholder: 'Enter number of cards', calculateButton: 'Calculate', outputMaxLevelReached: 'Your hero is at maximum level!', outputMaxLevel: 'Maximum possible level:', outputRemainingCards: 'Remaining cards:', outputCardsToNextLvl: 'Missing cards to next level:', outputCardsToLvl25: 'Missing cards to reach level 25:', outputGoldToLevel: 'Gold needed for reach level', outputGoldToMax: 'Gold needed for reach level 25:', errorInvalidLevel: 'Enter a valid hero level!', errorCommonLevelRange: 'Common hero level must be between 1 and 25!', errorRareLevelStart: 'Rare hero level starts from level 3!', errorEpicLevelStart: 'Epic hero level starts from level 5!', errorInvalidCards: 'Enter a valid number of cards!', errorMaxCards: 'Number of cards cannot exceed {maxCards}!', errorCardsExceedMaxPossible: 'Maximum number of cards are {maxCards}.', outputMaxLevelAchievedText: '0' },
    'cs': { pageTitle: 'Kalkulačka karet Smashing Four', calculatorTitle: 'Kalkulačka karet', heroTypeLabel: 'Typ hrdiny:', commonOption: 'Běžný', rareOption: 'Vzácný', epicOption: 'Epický', currentLevelLabel: 'Úroveň hrdiny:', currentLevelPlaceholder: 'Zadej úroveň hrdiny', cardsLabel: 'Počet karet:', cardsPlaceholder: 'Zadej počet karet', calculateButton: 'Vypočítat', outputMaxLevelReached: 'Tvůj hrdina je na maximální úrovni!', outputMaxLevel: 'Maximální možná úroveň:', outputRemainingCards: 'Zbývající karty:', outputCardsToNextLvl: 'Chybějící karty do další úrovně:', outputCardsToLvl25: 'Chybějící karty na úroveň 25:', outputGoldToLevel: 'Zlato potřebné pro úroveň', outputGoldToMax: 'Zlato potřebné pro úroveň 25:', errorInvalidLevel: 'Zadej platnou úroveň hrdiny!', errorCommonLevelRange: 'Úroveň běžných hrdinů musí být mezi 1 a 25!', errorRareLevelStart: 'Úroveň vzácných hrdinů začíná od 3. úrovně!', errorEpicLevelStart: 'Úroveň epických hrdinů začíná od 5. úrovně!', errorInvalidCards: 'Zadej platný počet karet!', errorMaxCards: 'Počet karet nesmí přesáhnout {maxCards}!', errorCardsExceedMaxPossible: 'Maximální počet karet je {maxCards}.', outputMaxLevelAchievedText: '0' },
    'de': { pageTitle: 'Smashing Four Kartenrechner', calculatorTitle: 'Kartenrechner', heroTypeLabel: 'Heldentyp:', commonOption: 'Gewöhnlich', rareOption: 'Selten', epicOption: 'Episch', currentLevelLabel: 'Heldenlevel:', currentLevelPlaceholder: 'Heldenlevel eingeben', cardsLabel: 'Anzahl der Karten:', cardsPlaceholder: 'Anzahl der Karten eingeben', calculateButton: 'Berechnen', outputMaxLevelReached: 'Dein Held hat das maximale Level erreicht!', outputMaxLevel: 'Maximal mögliches Level:', outputRemainingCards: 'Verbleibende Karten:', outputCardsToNextLvl: 'Fehlende Karten zum nächsten Level:', outputCardsToLvl25: 'Fehlende Karten bis Level 25:', outputGoldToLevel: 'Benötigtes Gold für Level', outputGoldToMax: 'Benötigtes Gold für Level 25:', errorInvalidLevel: 'Gib ein gültiges Heldenlevel ein!', errorCommonLevelRange: 'Das Level für gewöhnliche Helden muss zwischen 1 und 25 liegen!', errorRareLevelStart: 'Das Level für seltene Helden beginnt bei Level 3!', errorEpicLevelStart: 'Das Level für epische Helden beginnt bei Level 5!', errorInvalidCards: 'Gib eine gültige Anzahl an Karten ein!', errorMaxCards: 'Die Anzahl der Karten darf {maxCards} nicht überschreiten!', errorCardsExceedMaxPossible: 'Die maximale Anzahl an Karten beträgt {maxCards}.', outputMaxLevelAchievedText: '0' },
    'es': { pageTitle: 'Calculadora de Cartas de Smashing Four', calculatorTitle: 'Calculadora de Cartas', heroTypeLabel: 'Tipo de héroe:', commonOption: 'Común', rareOption: 'Raro', epicOption: 'Épico', currentLevelLabel: 'Nivel del héroe:', currentLevelPlaceholder: 'Introduce el nivel del héroe', cardsLabel: 'Número de cartas:', cardsPlaceholder: 'Introduce el número de cartas', calculateButton: 'Calcular', outputMaxLevelReached: '¡Tu héroe está en el nivel máximo!', outputMaxLevel: 'Nivel máximo posible:', outputRemainingCards: 'Cartas restantes:', outputCardsToNextLvl: 'Cartas que faltan para el siguiente nivel:', outputCardsToLvl25: 'Cartas que faltan para el nivel 25:', outputGoldToLevel: 'Oro necesario para el nivel', outputGoldToMax: 'Oro necesario para el nivel 25:', errorInvalidLevel: '¡Introduce un nivel de héroe válido!', errorCommonLevelRange: '¡El nivel de héroe común debe estar entre 1 y 25!', errorRareLevelStart: '¡El nivel de héroe raro comienza en el nivel 3!', errorEpicLevelStart: '¡El nivel de héroe épico comienza en el nivel 5!', errorInvalidCards: '¡Introduce un número de cartas válido!', errorMaxCards: '¡El número de cartas no puede exceder {maxCards}!', errorCardsExceedMaxPossible: 'El número máximo de cartas es {maxCards}.', outputMaxLevelAchievedText: '0' },
    'pt': { pageTitle: 'Calculadora de Cartas Smashing Four', calculatorTitle: 'Calculadora de Cartas', heroTypeLabel: 'Tipo de Herói:', commonOption: 'Comum', rareOption: 'Raro', epicOption: 'Épico', currentLevelLabel: 'Nível do Herói:', currentLevelPlaceholder: 'Digite o nível do herói', cardsLabel: 'Número de Cartas:', cardsPlaceholder: 'Digite o número de cartas', calculateButton: 'Calcular', outputMaxLevelReached: 'Seu herói está no nível máximo!', outputMaxLevel: 'Nível máximo possível:', outputRemainingCards: 'Cartas restantes:', outputCardsToNextLvl: 'Cartas em falta para o próximo nível:', outputCardsToLvl25: 'Cartas em falta para o nível 25:', outputGoldToLevel: 'Ouro necessário para o nível', outputGoldToMax: 'Ouro necessário para o nível 25:', errorInvalidLevel: 'Digite um nível de herói válido!', errorCommonLevelRange: 'O nível do herói comum deve estar entre 1 e 25!', errorRareLevelStart: 'O nível do herói raro começa no nível 3!', errorEpicLevelStart: 'O nível do herói épico começa no nível 5!', errorInvalidCards: 'Digite um número de cartas válido!', errorMaxCards: 'O número de cartas não pode exceder {maxCards}!', errorCardsExceedMaxPossible: 'O número máximo de cartas é {maxCards}.', outputMaxLevelAchievedText: '0' },
    'nl': { pageTitle: 'Smashing Four Kaartcalculator', calculatorTitle: 'Kaartcalculator', heroTypeLabel: 'Heldentype:', commonOption: 'Gewoon', rareOption: 'Zeldzaam', epicOption: 'Episch', currentLevelLabel: 'Heldenniveau:', currentLevelPlaceholder: 'Voer heldenniveau in', cardsLabel: 'Aantal kaarten:', cardsPlaceholder: 'Voer aantal kaarten in', calculateButton: 'Berekenen', outputMaxLevelReached: 'Je held heeft het maximale niveau bereikt!', outputMaxLevel: 'Maximaal mogelijk niveau:', outputRemainingCards: 'Resterende kaarten:', outputCardsToNextLvl: 'Kaarten nodig voor volgend niveau:', outputCardsToLvl25: 'Kaarten nodig voor niveau 25:', outputGoldToLevel: 'Goud nodig voor niveau', outputGoldToMax: 'Goud nodig voor niveau 25:', errorInvalidLevel: 'Voer een geldig heldenniveau in!', errorCommonLevelRange: 'Gewoon heldenniveau moet tussen 1 en 25 zijn!', errorRareLevelStart: 'Zeldzaam heldenniveau begint vanaf niveau 3!', errorEpicLevelStart: 'Episch heldenniveau begint vanaf niveau 5!', errorInvalidCards: 'Voer een geldig aantal kaarten in!', errorMaxCards: 'Aantal kaarten mag niet hoger zijn dan {maxCards}!', errorCardsExceedMaxPossible: 'Het maximale aantal kaarten is {maxCards}.', outputMaxLevelAchievedText: '0' },
    'pl': { pageTitle: 'Kalkulator kart Smashing Four', calculatorTitle: 'Kalkulator kart', heroTypeLabel: 'Typ bohatera:', commonOption: 'Zwykły', rareOption: 'Rzadki', epicOption: 'Epicki', currentLevelLabel: 'Poziom bohatera:', currentLevelPlaceholder: 'Wpisz poziom bohatera', cardsLabel: 'Liczba kart:', cardsPlaceholder: 'Wpisz liczbę kart', calculateButton: 'Oblicz', outputMaxLevelReached: 'Twój bohater jest na maksymalnym poziomie!', outputMaxLevel: 'Maksymalny możliwy poziom:', outputRemainingCards: 'Pozostałe karty:', outputCardsToNextLvl: 'Brakujące karty do następnego poziomu:', outputCardsToLvl25: 'Brakujące karty do poziomu 25:', outputGoldToLevel: 'Złoto potrzebne na poziom', outputGoldToMax: 'Złoto potrzebne na poziom 25:', errorInvalidLevel: 'Wpisz prawidłowy poziom bohatera!', errorCommonLevelRange: 'Poziom zwykłego bohatera musi mieścić się w przedziale 1-25!', errorRareLevelStart: 'Poziom rzadkiego bohatera zaczyna się od poziomu 3!', errorEpicLevelStart: 'Poziom epickiego bohatera zaczyna się od poziomu 5!', errorInvalidCards: 'Wpisz prawidłową liczbę kart!', errorMaxCards: 'Liczba kart nie może przekroczyć {maxCards}!', errorCardsExceedMaxPossible: 'Maksymalna liczba kart to {maxCards}.', outputMaxLevelAchievedText: '0' },
    'ru': { pageTitle: 'Калькулятор карт Smashing Four', calculatorTitle: 'Калькулятор карт', heroTypeLabel: 'Тип героя:', commonOption: 'Обычный', rareOption: 'Редкий', epicOption: 'Эпический', currentLevelLabel: 'Уровень героя:', currentLevelPlaceholder: 'Введите уровень героя', cardsLabel: 'Количество карт:', cardsPlaceholder: 'Введите количество карт', calculateButton: 'Рассчитать', outputMaxLevelReached: 'Ваш герой достиг максимального уровня!', outputMaxLevel: 'Максимально возможный уровень:', outputRemainingCards: 'Оставшиеся карты:', outputCardsToNextLvl: 'Недостающие карты до следующего уровня:', outputCardsToLvl25: 'Недостающие карты до 25 уровня:', outputGoldToLevel: 'Золота для уровня', outputGoldToMax: 'Золота для 25 уровня:', errorInvalidLevel: 'Введите действительный уровень героя!', errorCommonLevelRange: 'Уровень обычного героя должен быть от 1 до 25!', errorRareLevelStart: 'Уровень редкого героя начинается с 3-го уровня!', errorEpicLevelStart: 'Уровень эпического героя начинается с 5-го уровня!', errorInvalidCards: 'Введите действительное количество карт!', errorMaxCards: 'Количество карт не может превышать {maxCards}!', errorCardsExceedMaxPossible: 'Максимальное количество карт: {maxCards}.', outputMaxLevelAchievedText: '0' },
    'zh': { pageTitle: 'Smashing Four 卡牌计算器', calculatorTitle: '卡牌计算器', heroTypeLabel: '英雄类型:', commonOption: '普通', rareOption: '稀有', epicOption: '史诗', currentLevelLabel: '英雄等级:', currentLevelPlaceholder: '输入英雄等级', cardsLabel: '卡牌数量:', cardsPlaceholder: '输入卡牌数量', calculateButton: '计算', outputMaxLevelReached: '你的英雄已达到最高等级！', outputMaxLevel: '可能达到的最高等级:', outputRemainingCards: '剩余卡牌:', outputCardsToNextLvl: '下一级所需卡牌:', outputCardsToLvl25: '达到25级所需卡牌:', outputGoldToLevel: '达到该等级所需金币', outputGoldToMax: '达到25级所需金币:', errorInvalidLevel: '请输入有效的英雄等级！', errorCommonLevelRange: '普通英雄等级必须在1到25之间！', errorRareLevelStart: '稀有英雄等级从3级开始！', errorEpicLevelStart: '史诗英雄等级从5级开始！', errorInvalidCards: '请输入有效的卡牌数量！', errorMaxCards: '卡牌数量不能超过 {maxCards}！', errorCardsExceedMaxPossible: '最大卡牌数量为 {maxCards}。', outputMaxLevelAchievedText: '0' }
};

let currentLang = 'sk'; // Prednastavený jazyk

// Funkcia na formátovanie zlata (použiteľná aj pre počet kariet)
function formatGold(number) {
  return Number(number).toLocaleString('sk-SK').replace(/\u00A0/g, ' ');
}

// Funkcia na prepínanie jazykov
function setLanguage(lang) {
    currentLang = lang;
    const t = translations[lang];
    const outputDiv = document.getElementById('output');

    // Nastavenie font-size pre #output DIV na základe jazyka
    switch (lang) {
        case 'sk':
        case 'cs':
        case 'nl':
            outputDiv.style.fontSize = '14px';
            document.body.style.fontFamily = "'Russo One', sans-serif";
            break;
        case 'de':
            outputDiv.style.fontSize = '13px'; // Zmenšené o 1px z 14px na 13px
            document.body.style.fontFamily = "'Russo One', sans-serif";
            break;
        case 'pl':
            outputDiv.style.fontSize = '12px'; // Zväčšené o 1px z 11px na 12px
            document.body.style.fontFamily = "'Russo One', sans-serif";
            break;
        case 'es':
        case 'pt':
            outputDiv.style.fontSize = '12px'; // Zmenšené o 2px (z 14px na 12px)
            document.body.style.fontFamily = "'Russo One', sans-serif";
            break;
        case 'ru':
            outputDiv.style.fontSize = '11px';
            document.body.style.fontFamily = "'Russo One', sans-serif";
            break;
        case 'zh':
            outputDiv.style.fontSize = '12px';
            document.body.style.fontFamily = '"Microsoft YaHei", "SimSun", sans-serif';
            break;
        case 'en':
        default:
            outputDiv.style.fontSize = '14px';
            document.body.style.fontFamily = "'Russo One', sans-serif";
            break;
    }

    document.getElementById('pageTitle').textContent = t.pageTitle;
    document.getElementById('calculatorTitle').textContent = t.calculatorTitle;
    document.getElementById('heroTypeLabel').textContent = t.heroTypeLabel;
    document.getElementById('commonOption').textContent = t.commonOption;
    document.getElementById('rareOption').textContent = t.rareOption;
    document.getElementById('epicOption').textContent = t.epicOption;
    document.getElementById('currentLevelLabel').textContent = t.currentLevelLabel;
    document.getElementById('currentLevel').placeholder = t.currentLevelPlaceholder;
    document.getElementById('cardsLabel').textContent = t.cardsLabel;
    document.getElementById('cards').placeholder = t.cardsPlaceholder;
    document.getElementById('calculateButton').textContent = t.calculateButton;

    // Po zmene jazyka vymažeme výsledky, aby nedošlo k zámene
    outputDiv.innerHTML = '';
}

function calculate() {
  const heroType = document.getElementById('heroType').value;
  const currentLevelInput = document.getElementById('currentLevel');
  const cardsInput = document.getElementById('cards');
  const currentLevel = parseInt(currentLevelInput.value, 10);
  const cards = parseInt(cardsInput.value, 10);
  const outputDiv = document.getElementById('output');
  const t = translations[currentLang];

  let errors = [];

  // Validácia vstupu pre úroveň hrdinu
  if (isNaN(currentLevel)) {
    errors.push(t.errorInvalidLevel);
  } else {
    if (heroType === 'common' && (currentLevel < 1 || currentLevel > 25)) {
      errors.push(t.errorCommonLevelRange);
    } else if (heroType === 'rare' && (currentLevel < 3 || currentLevel > 25)) {
      errors.push(t.errorRareLevelStart);
    } else if (heroType === 'epic' && (currentLevel < 5 || currentLevel > 25)) {
      errors.push(t.errorEpicLevelStart);
    }
  }

  // Validácia vstupu pre počet kariet
  if (isNaN(cards)) {
    errors.push(t.errorInvalidCards);
  } else if (cards < 0) {
    errors.push(t.errorInvalidCards);
  } else if (cards > 80707) {
    errors.push(t.errorMaxCards.replace('{maxCards}', '80 707'));
  }

  if (errors.length > 0) {
    outputDiv.innerHTML = errors.map(err => `<span class="error">${err}</span>`).join("");
    return;
  }

  if (currentLevel === 25) {
    outputDiv.innerHTML = `<span class="error">${t.outputMaxLevelReached}</span>`;
    currentLevelInput.value = "";
    cardsInput.value = "";
    return;
  }

  let totalCardsRequiredToMax = 0;
  for (let i = currentLevel - 1; i < 24; i++) {
    const requirement = levelData[i][heroType];
    if (typeof requirement === 'number') {
      totalCardsRequiredToMax += requirement;
    }
  }

  if (cards > totalCardsRequiredToMax) {
      errors.push(t.errorCardsExceedMaxPossible.replace('{maxCards}', formatGold(totalCardsRequiredToMax)));
  }

  if (errors.length > 0) {
    outputDiv.innerHTML = errors.map(err => `<span class="error">${err}</span>`).join("");
    return;
  }


  let totalGoldToMax = 0;
  for (let i = currentLevel - 1; i < 24; i++) {
    const step = levelData[i];
    const req = step[heroType];
    if (req === 'Full') break;
    totalGoldToMax += step.gold;
  }

  let availableCards = cards;
  let finalLevel = currentLevel;
  let goldNeeded = 0;

  while (finalLevel < 25) {
    const index = finalLevel - 1;
    const neededCardsForThisLevelUp = levelData[index][heroType];
    const neededGoldForThisLevelUp = levelData[index].gold;

    if (neededCardsForThisLevelUp === 'Full') break;

    if (availableCards >= neededCardsForThisLevelUp) {
      availableCards -= neededCardsForThisLevelUp;
      goldNeeded += neededGoldForThisLevelUp;
      finalLevel++;
    }
    else {
      break;
    }
  }

  if (finalLevel === 25) {
      availableCards = 0;
  }

  let cardsToNextLevelText = '';
  if (finalLevel < 25) {
    const cardsRequiredForNextSingleLevelUp = levelData[finalLevel - 1][heroType];
    if (cardsRequiredForNextSingleLevelUp !== 'Full') {
      const cardsNeeded = cardsRequiredForNextSingleLevelUp - availableCards;
      cardsToNextLevelText = cardsNeeded > 0 ? cardsNeeded : 0;
    } else {
      cardsToNextLevelText = t.outputMaxLevelAchievedText;
    }
  } else {
    cardsToNextLevelText = t.outputMaxLevelAchievedText;
  }

  const cardsNeededForLvl25 = Math.max(0, totalCardsRequiredToMax - cards);

  let resultHTML = `
    ${t.outputMaxLevel} ${finalLevel}<br>
    ${t.outputRemainingCards} ${formatGold(availableCards)}<br>
    ${t.outputCardsToNextLvl} ${formatGold(cardsToNextLevelText)}<br>
    ${t.outputCardsToLvl25} ${formatGold(cardsNeededForLvl25)}<br>
    ${t.outputGoldToLevel} ${finalLevel}: ${formatGold(goldNeeded)}
  `;

  if (finalLevel < 25) {
    resultHTML += `<br>${t.outputGoldToMax} ${formatGold(totalGoldToMax)}`;
  }

  outputDiv.innerHTML = resultHTML;

  if (errors.length === 0 && currentLevel !== 25) {
    currentLevelInput.value = "";
    cardsInput.value = "";
  }
}

document.addEventListener('DOMContentLoaded', () => {
    setLanguage('sk');
});
</script>

</body>
</html>
